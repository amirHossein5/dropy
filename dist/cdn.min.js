(()=>{function d(t){return document.querySelectorAll(t)}function y(t,e=null){let n=t.parentElement;return t.parentNode?[...e?n.querySelectorAll(e):n.children].filter(l=>l!==t&&Object.values(n.children).includes(l)):[]}function a(t,e,n=null){let l=`data-${e}`;if(n!==null)return t.setAttribute(l,n);let r=t.getAttribute(l);return r==="true"&&(r=!0),r==="false"&&(r=!1),r}function h(t,e=null){return t.parentElement?[A(t.parentElement),t].flat().filter(n=>n&&n!==t):[]}function A(t,e=null){return t.parentElement?[A(t.parentElement),t].flat():null}function $(t,e){let n=m(e),l=[...d(t)],r=[];l.forEach(o=>{let f=c(o);r=[...r,...c(o)],a(o,"is-open")===!0?a(o,"is-open",!0):a(o,"is-open",!1),x(o,f,n?.onInit),o.addEventListener("click",i=>{let s=i.currentTarget,E=c(s);n.closeOnAnotherTogglerClicked&&!a(s,"is-open")&&l.filter(u=>u!==s&&a(u,"is-open")).forEach(u=>p(u,r,n?.onClose)),a(s,"is-open")?p(s,E,n?.onClose):b(s,E,n?.onOpen)})}),n.closeOnClickOut===!0&&document.addEventListener("click",o=>{let f=[...l,...r];[...h(o.target),o.target].filter(i=>f.includes(i)).length===0&&l.filter(i=>a(i,"is-open")).forEach(i=>p(i,r,n?.onClose))})}function O(){document.addEventListener("dropy.open",t=>{[...d(t.detail.togglerSelector)].forEach(e=>{!a(e,"is-open")&&b(e,c(e),t.detail?.open)})}),document.addEventListener("dropy.close",t=>{[...d(t.detail.togglerSelector)].forEach(e=>{a(e,"is-open")&&p(e,c(e),t.detail?.close)})})}function m(t){return{closeOnClickOut:!0,closeOnAnotherTogglerClicked:!0,...t}}function c(t){return a(t,"target")?d(a(t,"target")):y(t,"[toggler-target]")}function x(t,e,n){let l=a(t,"is-open");n?n(e,t,l):l?e.forEach(r=>r.style.display="block"):e.forEach(r=>r.style.display="none")}function b(t,e,n){e.length!==0&&(a(t,"is-open",!0),n?n(e,t):e.forEach(l=>l.style.display="block"))}function p(t,e,n){e.length!==0&&(a(t,"is-open",!1),n?n(e,t):e.forEach(l=>l.style.display="none"))}O();window.dropy=$;})();
