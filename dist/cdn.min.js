(()=>{function E(t,n=null){let e=t.parentElement;return t.parentNode?[...n?e.querySelectorAll(n):e.children].filter(r=>r!==t&&Object.values(e.children).includes(r)):[]}function o(t,n,e=null){let r=`data-${n}`;if(e!==null)return t.setAttribute(r,e);let a=t.getAttribute(r);return a==="true"&&(a=!0),a==="false"&&(a=!1),a}function h(t,n=null){return t.parentElement?[y(t.parentElement),t].flat().filter(e=>e&&e!==t):[]}function y(t,n=null){return t.parentElement?[y(t.parentElement),t].flat():null}function d(t,n){let e=b(n),r=[...document.querySelectorAll(t)],a=[];r.forEach(l=>{let s=p(l);a=[...a,...p(l)],o(l,"is-open")===!0?o(l,"is-open",!0):o(l,"is-open",!1),o(l,"is-open")?O(l,s,e?.onOpen):c(l,s,e?.onClose),l.addEventListener("click",i=>{let u=i.currentTarget,$=p(u);e.closeOnAnotherTogglerClicked&&r.filter(f=>f!==u).forEach(f=>c(f,a,e?.onClose)),o(u,"is-open")?c(u,$,e?.onClose):O(u,$,e?.onOpen)})}),e.closeOnClickOut===!0&&document.addEventListener("click",l=>{let s=[...r,...a];[...h(l.target),l.target].filter(i=>s.includes(i)).length===0&&r.forEach(i=>c(i,a,e?.onClose))})}function b(t){return{closeOnClickOut:!0,closeOnAnotherTogglerClicked:!0,...t}}function p(t){return o(t,"target")?document.querySelectorAll(o(t,"target")):E(t,"[toggler-target]")}function O(t,n,e){o(t,"is-open",!0),e?e(n,t):n.forEach(r=>r.style.display="block")}function c(t,n,e){o(t,"is-open",!1),e?e(n,t):n.forEach(r=>r.style.display="none")}window.dropy=d;})();
