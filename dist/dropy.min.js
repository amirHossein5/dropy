(()=>{function u(t){return document.querySelectorAll(t)}function h(t,n=null){let e=t.parentElement;return t.parentNode?[...n?e.querySelectorAll(n):e.children].filter(l=>l!==t&&Object.values(e.children).includes(l)):[]}function a(t,n,e=null){let l=`data-${n}`;if(e!==null)return t.setAttribute(l,e);let r=t.getAttribute(l);return r==="true"&&(r=!0),r==="false"&&(r=!1),r}function y(t,n=null){return t.parentElement?[A(t.parentElement),t].flat().filter(e=>e&&e!==t):[]}function A(t,n=null){return t.parentElement?[A(t.parentElement),t].flat():null}function $(t,n){let e=b(n),l=[...u(t)],r=[];l.forEach(o=>{let d=p(o);r=[...r,...p(o)],a(o,"is-open")===!0?a(o,"is-open",!0):a(o,"is-open",!1),k(o,d,e?.onInit),o.addEventListener("click",i=>{let s=i.currentTarget,E=p(s);e.closeOnAnotherTogglerClicked&&!a(s,"is-open")&&l.filter(c=>c!==s&&a(c,"is-open")).forEach(c=>f(c,r,e?.onClose)),a(s,"is-open")?f(s,E,e?.onClose):m(s,E,e?.onOpen)})}),e.closeOnClickOut===!0&&document.addEventListener("click",o=>{let d=[...l,...r];[...y(o.target),o.target].filter(i=>d.includes(i)).length===0&&l.filter(i=>a(i,"is-open")).forEach(i=>f(i,r,e?.onClose))})}function b(t){return{closeOnClickOut:!0,closeOnAnotherTogglerClicked:!0,...t}}function p(t){return a(t,"target")?u(a(t,"target")):h(t,"[toggler-target]")}function k(t,n,e){let l=a(t,"is-open");e?e(n,t,l):l?n.forEach(r=>r.style.display="block"):n.forEach(r=>r.style.display="none")}function m(t,n,e){n.length!==0&&(a(t,"is-open",!0),e?e(n,t):n.forEach(l=>l.style.display="block"))}function f(t,n,e){n.length!==0&&(a(t,"is-open",!1),e?e(n,t):n.forEach(l=>l.style.display="none"))}window.dropy=$;})();
