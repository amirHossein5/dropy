(()=>{function u(t){return document.querySelectorAll(t)}function h(t,n=null){let e=t.parentElement;return t.parentNode?[...n?e.querySelectorAll(n):e.children].filter(l=>l!==t&&Object.values(e.children).includes(l)):[]}function r(t,n,e=null){let l=`data-${n}`;if(e!==null)return t.setAttribute(l,e);let a=t.getAttribute(l);return a==="true"&&(a=!0),a==="false"&&(a=!1),a}function y(t,n=null){return t.parentElement?[A(t.parentElement),t].flat().filter(e=>e&&e!==t):[]}function A(t,n=null){return t.parentElement?[A(t.parentElement),t].flat():null}function $(t,n){let e=b(n),l=[...u(t)],a=[];l.forEach(o=>{let d=p(o);a=[...a,...p(o)],r(o,"is-open")===!0?r(o,"is-open",!0):r(o,"is-open",!1),k(o,d,e?.onInit),o.addEventListener("click",i=>{let s=i.currentTarget,E=p(s);e.closeOnAnotherTogglerClicked&&!r(s,"is-open")&&l.filter(c=>c!==s&&r(c,"is-open")).forEach(c=>f(c,a,e?.onClose)),r(s,"is-open")?f(s,E,e?.onClose):m(s,E,e?.onOpen)})}),e.closeOnClickOut===!0&&document.addEventListener("click",o=>{let d=[...l,...a];[...y(o.target),o.target].filter(i=>d.includes(i)).length===0&&l.filter(i=>r(i,"is-open")).forEach(i=>f(i,a,e?.onClose))})}function b(t){return{closeOnClickOut:!0,closeOnAnotherTogglerClicked:!0,...t}}function p(t){return r(t,"target")?u(r(t,"target")):h(t,"[toggler-target]")}function k(t,n,e){e?e(n,t):r(t,"is-open")?n.forEach(l=>l.style.display="block"):n.forEach(l=>l.style.display="none")}function m(t,n,e){n.length!==0&&(r(t,"is-open",!0),e?e(n,t):n.forEach(l=>l.style.display="block"))}function f(t,n,e){n.length!==0&&(r(t,"is-open",!1),e?e(n,t):n.forEach(l=>l.style.display="none"))}window.dropy=$;})();
