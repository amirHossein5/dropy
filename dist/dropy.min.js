(()=>{var L=Object.defineProperty;var v=(e,n,t)=>n in e?L(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var A=(e,n,t)=>(v(e,typeof n!="symbol"?n+"":n,t),t);function f(e){return document.querySelectorAll(e)}function C(e,n=null){let t=e.parentElement;return e.parentNode?[...n?t.querySelectorAll(n):t.children].filter(o=>o!==e&&Object.values(t.children).includes(o)):[]}function a(e,n,t=null){let o=`data-${n}`;if(t!==null)return e.setAttribute(o,t);let r=e.getAttribute(o);return r==="true"&&(r=!0),r==="false"&&(r=!1),r}function w(e,n=null){return e.parentElement?[b(e.parentElement),e].flat().filter(t=>t&&t!==e):[]}function b(e,n=null){return e.parentElement?[b(e.parentElement),e].flat():null}function h(e,n){let t=D(n),o=[...f(e)],r=[];o.forEach(i=>{let x=p(i);r=[...r,...p(i)],a(i,"is-open")===!0?a(i,"is-open",!0):a(i,"is-open",!1),y(i),_(i,x,t?.onInit,t?.inited),i.addEventListener("click",s=>{let l=s.currentTarget,u=p(l);if(!t.syncTogglers)t.closeOnAnotherTogglerClicked&&!a(l,"is-open")&&o.filter(c=>c!==l&&a(c,"is-open")).forEach(c=>d(c,r,t?.onClose,t?.closed)),a(l,"is-open")?d(l,u,t?.onClose,t?.closed):$(l,u,t?.onOpen,t?.opened);else{let c=a(l,"is-open");o.forEach(O=>c?d(O,u,t?.onClose,t?.closed):$(O,u,t?.onOpen,t?.opened))}})}),t.closeOnClickOut===!0&&document.addEventListener("click",i=>{let x=[...o,...r];[...w(i.target),i.target].filter(s=>x.includes(s)).length===0&&o.filter(s=>a(s,"is-open")).forEach(s=>d(s,r,t?.onClose,t?.closed))})}function D(e){return{closeOnClickOut:!0,closeOnAnotherTogglerClicked:!0,syncTogglers:!1,...e}}function p(e){return a(e,"target")?f(a(e,"target")):C(e,"[toggler-target]")}function _(e,n,t,o){let r=a(e,"is-open");t?t(n,e,r):r?n.forEach(i=>i.style.display="block"):n.forEach(i=>i.style.display="none"),o&&o(n,e,r)}function $(e,n,t,o){n.length!==0&&(a(e,"is-open",!0),t?t(n,e):n.forEach(r=>r.style.display="block"),o&&o(n,e))}function d(e,n,t,o){n.length!==0&&(a(e,"is-open",!1),t?t(n,e):n.forEach(r=>r.style.display="none"),o&&o(n,e))}function y(e){if(j(e),a(e,"open")===null)return;let n=z(e,Object.entries(T()));n===void 0?a(e,"is-open",a(e,"open")):a(e,"is-open",a(e,`${n}-open`))}function T(){return dropy.config.get()?.screens??m()}function S(){window.addEventListener("resize",()=>{f("[data-is-open][data-open]").forEach(e=>{y(e),a(e,"is-open")?$(e,p(e)):d(e,p(e))})})}function m(){return{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"}}function j(e){if(!(a(e,"open")===!0||a(e,"open")===!1))for(let[n,t]of Object.entries(T()))a(e,`${n}-open`)!==null&&a(e,"open",!1)}function z(e,n){let t=n.sort(([,r],[,i])=>parseInt(r.replace("px",""))-parseInt(i.replace("px",""))),o=[];for(let[r,i]of t)a(e,`${r}-open`)!==null&&window.matchMedia(`(min-width: ${i})`).matches&&(o=[...o,r]);return o.at(-1)}S();var E;h.__proto__.config=(E=class{static set(n){this.options=n}static get(){return this.options}},A(E,"screens",m()),E);window.dropy=h;})();
